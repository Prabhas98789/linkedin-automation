<!DOCTYPE html>
<html lang="en" class="bg-gray-100">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Assign Filters</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>
</head>
<body class="p-6">
  <div x-data="{
    accounts: [
      {
        id: 1,
        unipile_id: 'V-y45f4bQW-xrrlsiFYctQ',
        platform: 'WhatsApp',
        industry: 'fintech',
        warmup: 1,
        post: 1,
        location_id: 103644278,
        title_keywords: 'ceo',
        active_start: '16:00:00',
        active_end: '18:00:00'
      },
      {
        id: 2,
        unipile_id: 'AfswY-f4Rm-UXgh905O-0A',
        platform: 'LinkedIn',
        industry: 'fintech',
        warmup: 1,
        post: 1,
        location_id: 101452733,
        title_keywords: 'ceo',
        active_start: '16:00:00',
        active_end: '18:00:00'
      }
    ],
    selected: null
  }" class="max-w-xl mx-auto space-y-6">
    
    <!-- Account Selector -->
    <div>
      <label class="block text-sm font-medium text-gray-700 mb-1">Choose Account</label>
      <select class="w-full border rounded px-3 py-2" @change="selected = accounts.find(acc => acc.unipile_id === $event.target.value)">
        <option value="">-- Select --</option>
        <template x-for="account in accounts" :key="account.unipile_id">
          <option :value="account.unipile_id" x-text="`${account.platform} (${account.unipile_id})`"></option>
        </template>
      </select>
    </div>

    <!-- Assign Filters Form -->
    <form x-show="selected" @submit.prevent="console.log(selected)" class="space-y-4 bg-white p-6 rounded shadow">
      <div class="grid grid-cols-2 gap-4">
        <div>
          <label class="block text-sm font-medium text-gray-700">Industry</label>
          <input type="text" x-model="selected.industry" class="w-full mt-1 border px-3 py-2 rounded" />
        </div>
        <div>
          <label class="block text-sm font-medium text-gray-700">Location ID</label>
          <input type="number" x-model="selected.location_id" class="w-full mt-1 border px-3 py-2 rounded" />
        </div>
        <div>
          <label class="block text-sm font-medium text-gray-700">Title Keywords</label>
          <input type="text" x-model="selected.title_keywords" class="w-full mt-1 border px-3 py-2 rounded" />
        </div>
        <div>
          <label class="block text-sm font-medium text-gray-700">Active Start</label>
          <input type="time" x-model="selected.active_start" class="w-full mt-1 border px-3 py-2 rounded" />
        </div>
        <div>
          <label class="block text-sm font-medium text-gray-700">Active End</label>
          <input type="time" x-model="selected.active_end" class="w-full mt-1 border px-3 py-2 rounded" />
        </div>
        <div class="flex items-center space-x-2 mt-6">
          <input type="checkbox" x-model="selected.warmup" :checked="selected.warmup == 1" class="form-checkbox h-4 w-4" />
          <label class="text-sm font-medium text-gray-700">Enable Warmup</label>
        </div>
        <div class="flex items-center space-x-2 mt-6">
          <input type="checkbox" x-model="selected.post" :checked="selected.post == 1" class="form-checkbox h-4 w-4" />
          <label class="text-sm font-medium text-gray-700">Enable Post</label>
        </div>
      </div>
      <button type="submit" class="mt-4 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700">
        Save Filters
      </button>
    </form>
  </div>
</body>
</html>
